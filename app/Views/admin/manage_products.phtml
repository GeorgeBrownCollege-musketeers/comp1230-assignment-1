<?php
$itemModel = model('App\Models\ItemModel');
$items = $itemModel->getItems();
$header = $itemModel->getHeader();
?>
<div class="container-fluid my-5">
    <h1 class="text-center p-3">Manage Products</h1>
    <table class="table table-striped">
        <thead class="thead-dark">
            <tr class="text-center">
                <?php foreach ($header as $heading) : ?>
                    <th scope="col"><?= $heading ?></th>
                <?php endforeach ?>
            </tr>
        </thead>
        <tbody>
            <?php foreach ($items as $item) : ?>
                <tr>
                    <?php foreach ($item as $key => $value) : ?>
                        <?php if ($key == 'image') : ?>
                            <td><img width="100px" src="/<?= $value ?>" alt="<?= $value ?>"></td>
                        <?php else : ?>
                            <td><?= $value ?></td>
                        <?php endif ?>
                    <?php endforeach ?>
                </tr>
            <?php endforeach ?>
        </tbody>
    </table>
</div>

<div class="container-fluid">
    <table class="table table-bordered">
        <thead class="thead-dark">
            <tr>
                <?php foreach ($header as $heading) : ?>
                    <th><?= $heading ?></th>
                <?php endforeach ?>
                <th>Submit</th>
            </tr>
        </thead>
        <tbody>
            <?php foreach ($items as $item) : ?>
                <tr>
                    <form action="">
                        <?php foreach ($item as $key => $value) : ?>
                            <?php if ($key == 'image') : ?>
                                <td><img width="100px" src="/<?= $value ?>" alt="<?= $value ?>"></td>
                            <?php else : ?>
                                <td><input type="text" class="form-control" name="<?= $key . "-" . $value ?>" value="<?= $value ?>"></td>
                            <?php endif ?>
                        <?php endforeach ?>
                        <td>
                            <input type="submit" class="btn btn-primary" value="Submit">
                        </td>
                    </form>
                </tr>
            <?php endforeach ?>
        </tbody>
    </table>
</div>

<div class="container my-5">

    <form class="p-5 bg-dark text-white rounded" method="POST" id="add-product-form" action="add_product">
        <h1 class="text-center">Add Products</h1>
        <div class="form-group">
            <label>Name</label>
            <input class="form-control" type="text" name="item_name" placeholder="Name">
        </div>
        <div class="form-group">
            <label>Category</label>
            <input class="form-control" type="text" name="item_category" placeholder="Category">
        </div>
        <div class="form-group">
            <label>Price</label>
            <input class="form-control" type="text" name="item_price" placeholder="Price">
        </div>
        <div class="form-group">

            <label>Image</label>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="inputGroupFileAddon01">Upload Image</span>
                </div>
                <div class="custom-file">
                    <input type="file" class="custom-file-input" name="item_image" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01">
                    <label class="custom-file-label" for="inputGroupFile01">Choose Image</label>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Rating</label>
            <input class="form-control" type="text" name="item_rating" placeholder="Rating">
        </div>
        <div class="form-group">
            <label>Quantity</label>
            <input class="form-control" type="text" name="item_quantity" placeholder="Quantity">
        </div>
        <div class="form-group">
            <input class="btn btn-primary" type="submit">
        </div>
    </form>

</div>